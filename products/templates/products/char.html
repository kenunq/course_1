{% load static %}

<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <title>WoW model viewer</title>
    <script crossorigin="anonymous" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<!--    <script src="https://wow.zamimg.com/modelviewer/wrath/viewer/viewer.min.js"></script>-->
    <script src="https://wow.zamimg.com/modelviewer/live/viewer/viewer.min.js"></script>
    <script src="{% static '/vendor/js/index.js' %}" type="module"></script>

<body>

<div id="model_3d"</div>
<div>
    <div>
        <button onclick="randAnimation(window.model1)">Random animation</button>
    </div>
    <div>
        <button onclick="randAnimation(window.model3)">Arthas random animation</button>
    </div>
    <div>
        <button onclick="pauseAnimation()">Pause animation</button>
    </div>
    <div>
        <button onclick="fullScreen()">Full Screen</button>
    </div>
    <div>
        <button onclick="window.changeSize">Change rotation</button>
    </div>
</div>



<script type="module">
    import {generateModels} from "{% static '/vendor/js/index.js' %}";

    const character = {
        "race": 6,
        "gender": 1,
        "skin": 4,
        "face": 5,
        "hairStyle": 5,
        "hairColor": 5,
        "facialStyle": 1,
        "items": [[3, 662264], [6, 25235], [7, 2311], [8, 21154], [9, 14618], [10, 9534],[22, 184920]]
    };

    window.model1 = await generateModels(1, `#model_3d`, character);



    /**
     *
     * @param model {WowModelViewer}
     */
    window.randAnimation = (model) => {
        const animationList = model.getListAnimations()
        const random = Math.floor(Math.random() * animationList.length);
        model.setAnimation(animationList[random])
    }

    window.pauseAnimation = () => {
        window.isPaused = !window.isPaused
        window.model1.setAnimPaused(window.isPaused)
        window.model3.setAnimPaused(window.isPaused)
    }

    window.fullScreen = () => {
        window.model1.setFullscreen(true)
    }

    window.fullScreen = () => {
        window.model1.setFullscreen(true)
    }

    window.changeDirection = () => {
        direction = -1 * direction
    }

    window.changeSize = () => {
        window.model1.setSize(10)
    }
</script>

</body>
</html>